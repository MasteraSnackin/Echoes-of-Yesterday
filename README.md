# Echoes of Yesterday

**Preserve Their Legacy, Forever.**

Echoes of Yesterday is an innovative web application designed to create interactive digital memorials of loved ones. By leveraging cutting-edge generative AI, users can build a living memory through AI-powered conversations, voice cloning, and dynamic avatars, offering a new and profound way to remember and connect.

---

## Core Features

- **Landing Page**: A beautiful, public-facing marketing page that introduces the app's purpose and features with a clear call-to-action.
- **Dashboard Layout**: A shared, authenticated layout with a collapsible sidebar for easy navigation between features.
- **Account Settings**: A secure settings page for users to input and manage their API keys for third-party services like ElevenLabs.
- **Memory Integration**: A dedicated space for users to input memories, stories, and personality traits of their loved ones. This text forms the knowledge base for the AI's personality.
- **Voice Cloning**: Users can upload an audio sample to create a realistic voice clone using the ElevenLabs API. The cloned voice is then used for AI responses in the chat.
- **Avatar Generation**: Generate multiple AI-powered avatars from a single uploaded photograph, allowing users to choose the best visual representation.
- **Text-to-Image Generation**: Create new images from text prompts, optionally using the active avatar as a base to maintain character consistency.
- **Chat Interface**: A real-time chat interface where users can type or use their microphone for voice input. Responses are generated by an AI influenced by the integrated memories and delivered using the selected avatar and cloned voice.

---

## Tech Stack

This project is built on a modern, robust, and type-safe technology stack:

- **Framework**: [Next.js](https://nextjs.org/) (with App Router)
- **Language**: [TypeScript](https://www.typescriptlang.org/)
- **UI**: [React](https://react.dev/)
- **Styling**: [Tailwind CSS](https://tailwindcss.com/)
- **UI Components**: [ShadCN UI](https://ui.shadcn.com/)
- **AI Integration**: [Genkit](https://firebase.google.com/docs/genkit) (for orchestrating calls to Google AI and other models)
- **State Management**: [Zustand](https://zustand-demo.pmnd.rs/) (for simple, client-side state)
- **Icons**: [Lucide React](https://lucide.dev/)
- **Form Management**: [React Hook Form](https://react-hook-form.com/) & [Zod](https://zod.dev/) for validation.

---

## Getting Started

To run this project locally, follow these steps.

### Prerequisites

- [Node.js](https://nodejs.org/en) (version 20 or later recommended)
- [npm](https://www.npmjs.com/) or another package manager like pnpm or yarn

### 1. Clone the Repository

```bash
git clone <repository-url>
cd <repository-directory>
```

### 2. Install Dependencies

Install all the necessary packages defined in `package.json`.

```bash
npm install
```

### 3. Set Up Environment Variables

The application requires API keys for its generative features to function.

1.  Create a `.env` file in the root of the project by copying the example:
    ```bash
    cp .env.example .env
    ```
2.  Open the `.env` file and add your Google AI Studio API key. You can get one from the [AI Studio dashboard](https://aistudio.google.com/app/apikey).
    ```.env
    GOOGLE_API_KEY="YOUR_GOOGLE_API_KEY"
    ```
3.  Other API keys (like ElevenLabs) are managed on the client side via the Account Settings page in the application dashboard. They are stored securely in the browser's local storage.

### 4. Run the Development Servers

This project requires two development servers to run concurrently in separate terminal windows.

- **Next.js App**: This runs the main web application.
  ```bash
  npm run dev
  ```
  The app will be available at `http://localhost:9002`.

- **Genkit Server**: This runs the AI flows, allowing them to be inspected and tested.
  ```bash
  npm run genkit:dev
  ```
  The Genkit development UI will be available at `http://localhost:4000`.

---

## Project Structure

The codebase is organized to be modular and maintainable.

```
.
├── src
│   ├── app/              # Next.js App Router: Pages and Layouts
│   │   ├── (public)/     # Public-facing pages (e.g., landing page)
│   │   └── dashboard/    # Authenticated dashboard pages and layout
│   ├── ai/               # Genkit AI Flows
│   │   ├── flows/        # All Genkit flow definitions
│   │   └── genkit.ts     # Genkit initialization and configuration
│   ├── components/       # Reusable React components
│   │   ├── features/     # High-level components for specific features
│   │   ├── ui/           # Base UI components (from ShadCN)
│   │   └── icons.tsx     # Custom SVG icons
│   ├── hooks/            # Custom React hooks (e.g., use-toast)
│   └── lib/              # Core utilities and libraries
│       ├── store/        # Zustand state management stores
│       └── utils.ts      # Utility functions (e.g., cn for Tailwind)
├── public/               # Static assets (images, fonts)
└── tailwind.config.ts    # Tailwind CSS configuration
```

---

## State Management with Zustand

Client-side state is managed using [Zustand](https://github.com/pmndrs/zustand), a small, fast, and scalable state-management solution. Stores are persisted to `localStorage` to ensure data like API keys, memories, and avatar selections are not lost between sessions.

- `src/lib/store/api-keys.ts`: Manages user-provided API keys.
- `src/lib/store/memory.ts`: Stores the integrated memories text.
- `src/lib/store/avatar.ts`: Stores the URI of the user's selected avatar.
- `src/lib/store/voice.ts`: Stores the ID of the cloned voice.

The custom hook `useHydratedStore` (`src/hooks/use-hydrated-store.ts`) is used to safely access these persisted stores on the client, preventing server-client hydration mismatches.


## Badge Progress
- Working on GitHub badges
